{
  "title": "Manual Installation",
  "description": "Add dependencies to your project manually.\r",
  "published": true,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\n<Tabs defaultValue=\"cli\">\r\n\r\n<TabsList>\r\n\r\n  <TabsTrigger value=\"cli\">CLI</TabsTrigger>\r\n  <TabsTrigger value=\"manual\">Manual</TabsTrigger>\r\n</TabsList>\r\n\r\n<TabsContent value=\"cli\">\r\n<Steps>\r\n### Intsall dev dependencies\r\n\r\nTo get started with authentication, add the authez package to your project by running the following command:\r\n\r\n```bash\r\nyarn add -D authez\r\n```\r\n\r\n### Initialize project\r\n\r\nInitialize your project by running the following command:\r\n\r\n```bash\r\nyarn authez init\r\n```\r\n\r\n### Add Provider\r\n\r\nAdd the AuthProvider into the Layout.tsx file.\r\n\r\n```tsx title=\"app/layout.tsx\"\r\n<AuthProvider>{children}</AuthProvider>\r\n```\r\n\r\n</Steps>\r\n</TabsContent>\r\n<TabsContent value=\"manual\">\r\n<Steps>\r\n\r\n### Add dependencies\r\n\r\nTo get started with authentication, add the NextAuth package to your project by running the following command:\r\n\r\n```bash\r\nnpm install next-auth\r\n```\r\n\r\n### Set Auth Options\r\n\r\nDefine your authentication options in authOptions. Here, you configure providers (such as Google or credentials), specify a session strategy, and handle authentication callbacks for sign-in, JWT, and session management.\r\n\r\n```ts title=\"lib/auth/options.ts\"\r\nimport { NextAuthOptions } from \"next-auth\";\r\nimport providersConfig from \"./providers.json\";\r\n\r\n// Define the authOptions without providers initially\r\nexport const authOptions: NextAuthOptions = {\r\n  providers: [],\r\n  session: {\r\n    strategy: \"jwt\",\r\n  },\r\n  callbacks: {\r\n    async signIn({ user, account }) {\r\n      return true;\r\n    },\r\n    async jwt({ token, user, account }) {\r\n      if (user) {\r\n        delete user[\"password\"];\r\n        token = { ...user };\r\n        return token;\r\n      }\r\n      return token;\r\n    },\r\n    async session({ session, token }: any) {\r\n      if (session.user && token) {\r\n        session.user = token;\r\n      }\r\n      return session;\r\n    },\r\n  },\r\n};\r\n\r\n// Function to add providers dynamically based on providers.json\r\n(async function addProviders() {\r\n  const providers = await Promise.all(\r\n    providersConfig.providers.map(async (provider) => {\r\n      const { default: ProviderName } = await import(\r\n        `./providers/${provider.file}`\r\n      );\r\n\r\n      return ProviderName;\r\n    })\r\n  );\r\n\r\n  // Assign the dynamically loaded providers to authOptions\r\n  authOptions.providers = providers;\r\n})();\r\n```\r\n\r\n### Add Providers to Auth Options\r\n\r\nAdd your providers to authOptions. This ensures that NextAuth knows how to handle authentication.\r\n\r\n```json title=\"lib/auth/providers.json\"\r\n{\r\n  \"providers\": [{ \"name\": \"ProviderGoogle\", \"file\": \"google\" }]\r\n}\r\n```\r\n\r\n### Add Auth types\r\n\r\nExtend NextAuth's types to ensure type safety throughout your authentication setup. This includes custom types for session, JWT, and user details (such as role, first name, and last name).\r\n\r\n```ts title=\"lib/auth/next-auth.d.ts\"\r\nimport NextAuth from \"next-auth\";\r\nimport type { User } from \"next-auth\";\r\nimport \"next-auth/jwt\";\r\n\r\ndeclare module \"next-auth/jwt\" {\r\n  interface JWT extends User {}\r\n}\r\n\r\ndeclare module \"next-auth\" {\r\n  interface Session {\r\n    user: User & DefaultSession[\"user\"];\r\n  }\r\n\r\n  interface User {\r\n    id: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    phone: string;\r\n    password?: string;\r\n  }\r\n}\r\n```\r\n\r\n### Add Auth Functions\r\n\r\nCreate utility functions for authentication, including SignIn and SignOut for handling login and logout, useClientUser for accessing user data on the client, and GetServerUser to access user data on the server.\r\n\r\n```ts title=\"lib/auth/index.ts\"\r\nimport { getServerSession } from \"next-auth\";\r\nimport { BuiltInProviderType } from \"next-auth/providers/index\";\r\nimport {\r\n  LiteralUnion,\r\n  signIn,\r\n  SignInAuthorizationParams,\r\n  SignInOptions,\r\n  signOut,\r\n  useSession,\r\n} from \"next-auth/react\";\r\nimport React from \"react\";\r\nimport { authOptions } from \"./options\";\r\n\r\nexport const SignIn = async (\r\n  provider?: LiteralUnion<BuiltInProviderType> | undefined,\r\n  options?: SignInOptions,\r\n  authorizationParams?: SignInAuthorizationParams\r\n) => {\r\n  await signIn(provider, options, authorizationParams);\r\n};\r\n\r\nexport const SignOut = async () => {\r\n  await signOut();\r\n};\r\n\r\nexport function useClientUser() {\r\n  const [user, setUser] = React.useState();\r\n  const { data: session } = useSession();\r\n\r\n  React.useEffect(() => {\r\n    if (session) {\r\n      setUser(session.user as any);\r\n    }\r\n  }, [session]);\r\n\r\n  return user;\r\n}\r\n\r\nexport async function GetSeverUser() {\r\n  const session = await getServerSession(authOptions);\r\n  return session?.user;\r\n}\r\n```\r\n\r\n### Add Session Provider\r\n\r\nWrap your application with the SessionProvider component to give components access to authentication data, such as the user's session. This provider enables use of NextAuth hooks, like useSession.\r\n\r\n```ts title=\"lib/auth/AuthProviders.tsx\"\r\n\"use client\";\r\nimport { SessionProvider, SessionProviderProps } from \"next-auth/react\";\r\n\r\ninterface AuthProvidersProps extends SessionProviderProps {}\r\n\r\nexport default function AuthProviders({\r\n  children,\r\n  ...props\r\n}: AuthProvidersProps) {\r\n  return <SessionProvider {...props}>{children}</SessionProvider>;\r\n}\r\n```\r\n\r\n### Wrap you App\r\n\r\nWrap your application with the AuthProviders component to provide authentication to components. This component is used in the app/layout.tsx file.\r\n\r\n```ts title=\"app/layout.tsx\"\r\n<AuthProviders>{children}</AuthProviders>\r\n```\r\n\r\n### Add Google and other providers\r\n\r\nConfigure your authentication providers here. For Google, create a Google provider configuration using clientId and clientSecret. You can add other providers in this file as needed.\r\n\r\n```ts title=\"lib/auth/providers/index.ts\"\r\nimport GoogleProvider from \"next-auth/providers/google\";\r\n\r\nexport const ProviderGoogle = GoogleProvider({\r\n  clientId: process.env.GOOGLE_CLIENT_ID!,\r\n  clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\r\n});\r\n```\r\n\r\n### Set Env Variables\r\n\r\nAdd your Google OAuth credentials and other required environment variables. These variables enable authentication services to function correctly.\r\n\r\n```bash title=\".env.local\"\r\nGOOGLE_CLIENT_ID=\"client Id\"\r\nGOOGLE_CLIENT_SECRET=\"client secret\"\r\nREDIRECT_URI=http://localhost:3000/api/auth/callback\r\nNEXTAUTH_SECRET=\"NEXTAUTH_SECRET\"\r\nNEXTAUTH_URL=http://localhost:3000\r\n```\r\n\r\n### Create Route Handler\r\n\r\nSet up your authentication route in Next.js. This handler file configures the API route for NextAuth, enabling endpoints for user authentication.\r\n\r\n```ts title=\"app/api/auth/[...nextauth]/route.ts\"\r\nimport { authOptions } from \"@/lib/auth/options\";\r\nimport NextAuth from \"next-auth/next\";\r\n\r\nconst handler = NextAuth(authOptions);\r\n\r\nexport { handler as GET, handler as POST };\r\n```\r\n\r\n### That's it\r\n\r\nYou can now start adding components to your project.\r\n\r\n</Steps>\r\n</TabsContent>\r\n\r\n</Tabs>\r\n",
    "code": "var Component=(()=>{var u=Object.create;var t=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var _=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),v=(r,e)=>{for(var l in e)t(r,l,{get:e[l],enumerable:!0})},d=(r,e,l,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of g(e))!f.call(r,a)&&a!==l&&t(r,a,{get:()=>e[a],enumerable:!(s=F(e,a))||s.enumerable});return r};var b=(r,e,l)=>(l=r!=null?u(m(r)):{},d(e||!r||!r.__esModule?t(l,\"default\",{value:r,enumerable:!0}):l,r)),B=r=>d(t({},\"__esModule\",{value:!0}),r);var p=_((C,h)=>{h.exports=_jsx_runtime});var k={};v(k,{default:()=>y,frontmatter:()=>x});var n=b(p()),x={title:\"Manual Installation\",description:\"Add dependencies to your project manually.\"};function E(r){let e={a:\"a\",code:\"code\",figcaption:\"figcaption\",figure:\"figure\",h3:\"h3\",p:\"p\",pre:\"pre\",span:\"span\",...r.components},{Steps:l,Tabs:s,TabsContent:a,TabsList:c,TabsTrigger:i}=e;return l||o(\"Steps\",!0),s||o(\"Tabs\",!0),a||o(\"TabsContent\",!0),c||o(\"TabsList\",!0),i||o(\"TabsTrigger\",!0),(0,n.jsxs)(s,{defaultValue:\"cli\",children:[(0,n.jsxs)(c,{children:[(0,n.jsx)(i,{value:\"cli\",children:\"CLI\"}),(0,n.jsx)(i,{value:\"manual\",children:\"Manual\"})]}),(0,n.jsx)(a,{value:\"cli\",children:(0,n.jsxs)(l,{children:[(0,n.jsxs)(e.h3,{id:\"intsall-dev-dependencies\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#intsall-dev-dependencies\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Intsall dev dependencies\"]}),(0,n.jsx)(e.p,{children:\"To get started with authentication, add the authez package to your project by running the following command:\"}),(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",__rawString__:`yarn add -D authez\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"yarn\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" add\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -D\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" authez\"})]})})})}),(0,n.jsxs)(e.h3,{id:\"initialize-project\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#initialize-project\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Initialize project\"]}),(0,n.jsx)(e.p,{children:\"Initialize your project by running the following command:\"}),(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",__rawString__:`yarn authez init\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"yarn\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" authez\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" init\"})]})})})}),(0,n.jsxs)(e.h3,{id:\"add-provider\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#add-provider\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Add Provider\"]}),(0,n.jsx)(e.p,{children:\"Add the AuthProvider into the Layout.tsx file.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",children:\"app/layout.tsx\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`<AuthProvider>{children}</AuthProvider>\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"AuthProvider\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{children}</\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"AuthProvider\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})})})]})]})}),(0,n.jsx)(a,{value:\"manual\",children:(0,n.jsxs)(l,{children:[(0,n.jsxs)(e.h3,{id:\"add-dependencies\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#add-dependencies\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Add dependencies\"]}),(0,n.jsx)(e.p,{children:\"To get started with authentication, add the NextAuth package to your project by running the following command:\"}),(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",__rawString__:`npm install next-auth\n`,__npmCommand__:`npm install next-auth\n`,__yarnCommand__:`yarn add next-auth\n`,__pnpmCommand__:`pnpm add next-auth\n`,__bunCommand__:`bun add next-auth\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" next-auth\"})]})})})}),(0,n.jsxs)(e.h3,{id:\"set-auth-options\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#set-auth-options\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Set Auth Options\"]}),(0,n.jsx)(e.p,{children:\"Define your authentication options in authOptions. Here, you configure providers (such as Google or credentials), specify a session strategy, and handle authentication callbacks for sign-in, JWT, and session management.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:\"lib/auth/options.ts\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`import { NextAuthOptions } from \"next-auth\";\\r\nimport providersConfig from \"./providers.json\";\\r\n\\r\n// Define the authOptions without providers initially\\r\nexport const authOptions: NextAuthOptions = {\\r\n  providers: [],\\r\n  session: {\\r\n    strategy: \"jwt\",\\r\n  },\\r\n  callbacks: {\\r\n    async signIn({ user, account }) {\\r\n      return true;\\r\n    },\\r\n    async jwt({ token, user, account }) {\\r\n      if (user) {\\r\n        delete user[\"password\"];\\r\n        token = { ...user };\\r\n        return token;\\r\n      }\\r\n      return token;\\r\n    },\\r\n    async session({ session, token }: any) {\\r\n      if (session.user && token) {\\r\n        session.user = token;\\r\n      }\\r\n      return session;\\r\n    },\\r\n  },\\r\n};\\r\n\\r\n// Function to add providers dynamically based on providers.json\\r\n(async function addProviders() {\\r\n  const providers = await Promise.all(\\r\n    providersConfig.providers.map(async (provider) => {\\r\n      const { default: ProviderName } = await import(\\r\n        \\`./providers/\\${provider.file}\\`\\r\n      );\\r\n\\r\n      return ProviderName;\\r\n    })\\r\n  );\\r\n\\r\n  // Assign the dynamically loaded providers to authOptions\\r\n  authOptions.providers = providers;\\r\n})();\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { NextAuthOptions } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" providersConfig \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./providers.json\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Define the authOptions without providers initially\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" authOptions\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" NextAuthOptions\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  providers: [],\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  session: {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    strategy: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"jwt\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  callbacks: {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    async\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" signIn\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"account\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    async\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" jwt\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"token\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"account\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (user) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        delete\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" user[\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"password\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        token \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"user };\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" token;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" token;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    async\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" session\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"session\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"token\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (session.user \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" token) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        session.user \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" token;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" session;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Function to add providers dynamically based on providers.json\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" addProviders\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" providers\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    providersConfig.providers.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"provider\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"ProviderName\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"        `./providers/${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"provider\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"file\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ProviderName;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // Assign the dynamically loaded providers to authOptions\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  authOptions.providers \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" providers;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})();\"})})]})})]}),(0,n.jsxs)(e.h3,{id:\"add-providers-to-auth-options\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#add-providers-to-auth-options\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Add Providers to Auth Options\"]}),(0,n.jsx)(e.p,{children:\"Add your providers to authOptions. This ensures that NextAuth knows how to handle authentication.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:\"lib/auth/providers.json\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`{\\r\n  \"providers\": [{ \"name\": \"ProviderGoogle\", \"file\": \"google\" }]\\r\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"providers\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": [{ \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"name\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"ProviderGoogle\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"file\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"google\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }]\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})]}),(0,n.jsxs)(e.h3,{id:\"add-auth-types\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#add-auth-types\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Add Auth types\"]}),(0,n.jsx)(e.p,{children:\"Extend NextAuth's types to ensure type safety throughout your authentication setup. This includes custom types for session, JWT, and user details (such as role, first name, and last name).\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:\"lib/auth/next-auth.d.ts\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`import NextAuth from \"next-auth\";\\r\nimport type { User } from \"next-auth\";\\r\nimport \"next-auth/jwt\";\\r\n\\r\ndeclare module \"next-auth/jwt\" {\\r\n  interface JWT extends User {}\\r\n}\\r\n\\r\ndeclare module \"next-auth\" {\\r\n  interface Session {\\r\n    user: User & DefaultSession[\"user\"];\\r\n  }\\r\n\\r\n  interface User {\\r\n    id: string;\\r\n    firstName: string;\\r\n    lastName: string;\\r\n    phone: string;\\r\n    password?: string;\\r\n  }\\r\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" NextAuth \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" type\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { User } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth/jwt\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"declare\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" module\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth/jwt\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  interface\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" JWT\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" User\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"declare\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" module\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  interface\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Session\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"    user\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" User\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" DefaultSession\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"[\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"user\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  interface\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" User\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"    id\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"    firstName\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"    lastName\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"    phone\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"    password\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})]}),(0,n.jsxs)(e.h3,{id:\"add-auth-functions\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#add-auth-functions\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Add Auth Functions\"]}),(0,n.jsx)(e.p,{children:\"Create utility functions for authentication, including SignIn and SignOut for handling login and logout, useClientUser for accessing user data on the client, and GetServerUser to access user data on the server.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:\"lib/auth/index.ts\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`import { getServerSession } from \"next-auth\";\\r\nimport { BuiltInProviderType } from \"next-auth/providers/index\";\\r\nimport {\\r\n  LiteralUnion,\\r\n  signIn,\\r\n  SignInAuthorizationParams,\\r\n  SignInOptions,\\r\n  signOut,\\r\n  useSession,\\r\n} from \"next-auth/react\";\\r\nimport React from \"react\";\\r\nimport { authOptions } from \"./options\";\\r\n\\r\nexport const SignIn = async (\\r\n  provider?: LiteralUnion<BuiltInProviderType> | undefined,\\r\n  options?: SignInOptions,\\r\n  authorizationParams?: SignInAuthorizationParams\\r\n) => {\\r\n  await signIn(provider, options, authorizationParams);\\r\n};\\r\n\\r\nexport const SignOut = async () => {\\r\n  await signOut();\\r\n};\\r\n\\r\nexport function useClientUser() {\\r\n  const [user, setUser] = React.useState();\\r\n  const { data: session } = useSession();\\r\n\\r\n  React.useEffect(() => {\\r\n    if (session) {\\r\n      setUser(session.user as any);\\r\n    }\\r\n  }, [session]);\\r\n\\r\n  return user;\\r\n}\\r\n\\r\nexport async function GetSeverUser() {\\r\n  const session = await getServerSession(authOptions);\\r\n  return session?.user;\\r\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { getServerSession } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { BuiltInProviderType } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth/providers/index\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  LiteralUnion,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  signIn,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  SignInAuthorizationParams,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  SignInOptions,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  signOut,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  useSession,\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth/react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { authOptions } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./options\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SignIn\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  provider\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" LiteralUnion\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"BuiltInProviderType\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"> \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"|\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  options\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SignInOptions\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  authorizationParams\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SignInAuthorizationParams\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" signIn\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(provider, options, authorizationParams);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SignOut\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" signOut\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useClientUser\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"user\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setUser\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"session\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useSession\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  React.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (session) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setUser\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(session.user \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [session]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" user;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" GetSeverUser\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" session\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getServerSession\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(authOptions);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" session?.user;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})]}),(0,n.jsxs)(e.h3,{id:\"add-session-provider\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#add-session-provider\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Add Session Provider\"]}),(0,n.jsx)(e.p,{children:\"Wrap your application with the SessionProvider component to give components access to authentication data, such as the user's session. This provider enables use of NextAuth hooks, like useSession.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:\"lib/auth/AuthProviders.tsx\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`\"use client\";\\r\nimport { SessionProvider, SessionProviderProps } from \"next-auth/react\";\\r\n\\r\ninterface AuthProvidersProps extends SessionProviderProps {}\\r\n\\r\nexport default function AuthProviders({\\r\n  children,\\r\n  ...props\\r\n}: AuthProvidersProps) {\\r\n  return <SessionProvider {...props}>{children}</SessionProvider>;\\r\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"use client\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { SessionProvider, SessionProviderProps } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth/react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"interface\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AuthProvidersProps\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SessionProviderProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AuthProviders\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  children\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  ...\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"props\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AuthProvidersProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"SessionProvider\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}>{children}\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"SessionProvider\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})]}),(0,n.jsxs)(e.h3,{id:\"wrap-you-app\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#wrap-you-app\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Wrap you App\"]}),(0,n.jsx)(e.p,{children:\"Wrap your application with the AuthProviders component to provide authentication to components. This component is used in the app/layout.tsx file.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:\"app/layout.tsx\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`<AuthProviders>{children}</AuthProviders>\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"AuthProviders\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{children}\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"AuthProviders\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"})]})})})]}),(0,n.jsxs)(e.h3,{id:\"add-google-and-other-providers\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#add-google-and-other-providers\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Add Google and other providers\"]}),(0,n.jsx)(e.p,{children:\"Configure your authentication providers here. For Google, create a Google provider configuration using clientId and clientSecret. You can add other providers in this file as needed.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:\"lib/auth/providers/index.ts\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`import GoogleProvider from \"next-auth/providers/google\";\\r\n\\r\nexport const ProviderGoogle = GoogleProvider({\\r\n  clientId: process.env.GOOGLE_CLIENT_ID!,\\r\n  clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\\r\n});\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" GoogleProvider \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth/providers/google\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ProviderGoogle\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" GoogleProvider\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  clientId: process.env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"GOOGLE_CLIENT_ID\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  clientSecret: process.env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"GOOGLE_CLIENT_SECRET\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})]}),(0,n.jsxs)(e.h3,{id:\"set-env-variables\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#set-env-variables\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Set Env Variables\"]}),(0,n.jsx)(e.p,{children:\"Add your Google OAuth credentials and other required environment variables. These variables enable authentication services to function correctly.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:\".env.local\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`GOOGLE_CLIENT_ID=\"client Id\"\\r\nGOOGLE_CLIENT_SECRET=\"client secret\"\\r\nREDIRECT_URI=http://localhost:3000/api/auth/callback\\r\nNEXTAUTH_SECRET=\"NEXTAUTH_SECRET\"\\r\nNEXTAUTH_URL=http://localhost:3000\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"GOOGLE_CLIENT_ID\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"client Id\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"GOOGLE_CLIENT_SECRET\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"client secret\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"REDIRECT_URI\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"http://localhost:3000/api/auth/callback\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"NEXTAUTH_SECRET\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"NEXTAUTH_SECRET\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"NEXTAUTH_URL\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"http://localhost:3000\"})]})]})})]}),(0,n.jsxs)(e.h3,{id:\"create-route-handler\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#create-route-handler\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Create Route Handler\"]}),(0,n.jsx)(e.p,{children:\"Set up your authentication route in Next.js. This handler file configures the API route for NextAuth, enabling endpoints for user authentication.\"}),(0,n.jsxs)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,n.jsx)(e.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:\"app/api/auth/[...nextauth]/route.ts\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",__withMeta__:!0,__rawString__:`import { authOptions } from \"@/lib/auth/options\";\\r\nimport NextAuth from \"next-auth/next\";\\r\n\\r\nconst handler = NextAuth(authOptions);\\r\n\\r\nexport { handler as GET, handler as POST };\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { authOptions } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@/lib/auth/options\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" NextAuth \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next-auth/next\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" handler\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" NextAuth\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(authOptions);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { handler \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" GET, handler \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" POST };\"})]})]})})]}),(0,n.jsxs)(e.h3,{id:\"thats-it\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#thats-it\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"That's it\"]}),(0,n.jsx)(e.p,{children:\"You can now start adding components to your project.\"})]})})]})}function y(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,{...r,children:(0,n.jsx)(E,{...r})}):E(r)}function o(r,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+r+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return B(k);})();\n;return Component;"
  },
  "_id": "docs/installation/next.mdx",
  "_raw": {
    "sourceFilePath": "docs/installation/next.mdx",
    "sourceFileName": "next.mdx",
    "sourceFileDir": "docs/installation",
    "contentType": "mdx",
    "flattenedPath": "docs/installation/next"
  },
  "type": "Doc",
  "slug": "/docs/installation/next",
  "slugAsParams": "installation/next"
}